<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>CONSIA ∞</title>

<link rel="manifest" href="manifest.webmanifest">

<style>

body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont;
background:#05070c;
color:white;
overflow:hidden;
}

header{
display:flex;
align-items:center;
justify-content:space-between;
padding:14px 20px;
background:linear-gradient(90deg,#0a0f1f,#020409);
border-bottom:1px solid rgba(255,255,255,0.05);
}

.logo{
font-weight:600;
letter-spacing:3px;
opacity:.9;
}

.status{
display:flex;
align-items:center;
gap:10px;
}

.dot{
width:10px;
height:10px;
border-radius:50%;
background:red;
box-shadow:0 0 10px red;
}

.online .dot{
background:#00ffd5;
box-shadow:0 0 14px #00ffd5;
}

main{
display:flex;
height:calc(100vh - 70px);
}

#left{
width:320px;
border-right:1px solid rgba(255,255,255,0.05);
padding:20px;
overflow:auto;
}

#center{
flex:1;
position:relative;
display:flex;
align-items:center;
justify-content:center;
}

#chat{
position:absolute;
bottom:20px;
width:90%;
display:flex;
gap:10px;
}

input{
flex:1;
padding:14px;
border-radius:12px;
border:none;
background:#0b0f18;
color:white;
}

button{
padding:14px 20px;
border:none;
border-radius:12px;
background:#00ffd5;
color:black;
font-weight:600;
cursor:pointer;
}

#hologram-core{
text-align:center;
font-size:28px;
opacity:.85;
animation:float 4s infinite ease-in-out;
}

@keyframes float{
0%{transform:translateY(0)}
50%{transform:translateY(-20px)}
100%{transform:translateY(0)}
}

#avatarVideo{
position:absolute;
bottom:120px;
width:220px;
border-radius:18px;
box-shadow:0 0 40px rgba(0,255,213,.3);
}

.panel{
margin-bottom:20px;
padding:14px;
background:#0b0f18;
border-radius:12px;
font-size:13px;
opacity:.85;
}

.consia-ascended{
background:radial-gradient(circle at center,#0a1a2f,#000);
}

</style>
</head>

<body>

<header>
<div class="logo">CONSIA</div>

<div class="status" id="status">
<div class="dot"></div>
<span>OFFLINE</span>
</div>
</header>

<main>

<!-- LEFT PANEL -->
<div id="left">

<div class="panel" id="omniscient">
Loading CORE…
</div>

<div class="panel">
Realtime ∞ Active<br>
Hyperrealismo ∞ Ready<br>
Avatar ∞ Sync<br>
Predictive AI ∞ Live
</div>

</div>

<!-- CENTER -->
<div id="center">

<div id="hologram-core">
CONSIA ∞ ACTIVE
</div>

<video id="avatarVideo" autoplay muted loop></video>

<div id="chat">
<input id="msg" placeholder="Decime qué querés…"/>
<button onclick="send()">Enviar</button>
</div>

</div>

</main>

<script>

/* =========================
   REALTIME CORE WS
========================= */

const ws = new WebSocket("wss://api.consia.world/ws");

ws.onopen = ()=>{
document.getElementById("status").classList.add("online");
document.querySelector("#status span").innerText="ONLINE";
};

ws.onmessage = e=>{
const data = JSON.parse(e.data);

if(data.realtime){
document.getElementById("hologram-core").innerHTML=
`CONSIA ∞<br>${data.echo}`;
}
};

/* =========================
   CHAT → AI CORE
========================= */

async function send(){

const msg = document.getElementById("msg").value;

ws.send(msg);

const r = await fetch("https://api.consia.world/ask",{
method:"POST",
headers:{ "Content-Type":"application/json"},
body:JSON.stringify({message:msg})
});

const d = await r.json();

avatarTalk(d.text);
}

/* =========================
   AVATAR LIPSYNC
========================= */

async function avatarTalk(text){

const r = await fetch("https://api.consia.world/avatar/lipsync",{
method:"POST",
headers:{ "Content-Type":"application/json"},
body:JSON.stringify({text})
});

const d = await r.json();

document.getElementById("avatarVideo").src=d.video_url;
}

/* =========================
   DASHBOARD OMNISCIENTE
========================= */

async function loadDashboard(){

const r = await fetch("https://api.consia.world/dashboard");
const d = await r.json();

document.getElementById("omniscient").innerHTML=`
CONSIA CORE<br>
Users: ${d.users}<br>
Requests: ${d.requests}<br>
AI Ops: ${d.ai}
`;
}

loadDashboard();

/* =========================
   PREDICTIVE AI
========================= */

async function predict(){

await fetch("https://api.consia.world/predict",{
method:"POST",
headers:{ "Content-Type":"application/json"},
body:JSON.stringify({
context:"User session",
goal:"Optimization"
})
});

}

/* =========================
   ASCEND VISUAL LAYER
========================= */

async function ascend(){

await fetch("https://api.consia.world/activate",{method:"POST"});

document.body.classList.add("consia-ascended");
}

ascend();

/* =========================
   SERVICE WORKER
========================= */

if("serviceWorker" in navigator){
navigator.serviceWorker.register("/sw.js");
}

</script>

</body>
</html>
